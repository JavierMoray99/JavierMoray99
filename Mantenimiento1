Objetivo:
Mantenimiento de asientos contables.
ENTORNO:
W_NRO_ASIENTO       es numérico
W_OPCION            es alfanumérico
W_RESPUESTA         es alfanumérico

archivo CUENTA
registro REG_CUENTA
  NRO_CUENTA        es numérico
  DESCRIPCION       es alfanumérico
  TIPO_CUENTA       es alfanumérico
  ASENTABLE         es alfanumérico
  TOTAL_DEBITOS     es numérico
  TOTAL_CREDITOS    es numérico
fin_registro
prefijo CUE

archivo ASIENTO
registro REG_ASIENTO
  NRO_ASIENTO       es numérico
  NRO_MOVIMIM       es numérico
  NRO_CUENTA        es numérico
  PERIODO           es alfanumérico
  IMPORTE_DEBITO    es numérico
  IMPORTE_CREDITO   es numérico
fin_registro
prefijo ASI

CUERPO PRINCIPAL:
inicio
  ejecutar PROCESO_INICIAL
  mientras W_NRO_ASIENTO <> 0
      ejecutar PROCESO_PRINCIPAL
  fin_mientras
  ejecutar PROCESO_FINAL
 fin
RUTINAS:
PROCESO_INICIAL:
  imprimir " MANTENIMIENTOS DE ASIENTOS CONTABLES"
  ejecutar ABRIR_ARCHIVOS
  ejecutar INGRESAR_NRO_CUENTA
retorno

PROCESO_PRINCIPAL:
  ejecutar INGRESAR_NRO_ASIENTO
  ejecutar INGRESAR_NRO_MOVIM
  ejecutar LEER_ASIENTO
     si existe (ASIENTO)
        ejecutar ALTA_ASIENTO
        ejecutar INGRESAR_NRO_CUENTA
        ejecutar LEER_CUENTA
        si existe (CUENTA) and CUE_ASENTABLE = "S"
          ejecutar IMPRIMIR_DESCIPCION
        sino
           ejecutar INGRESAR_NRO_CUENTA
        fin_si
     sino
        ejecutar INGRESAR_OPCION_MANTENIMIENTO
        si W_OPCION = "B"
           ejecutar BAJA_ASIENTO
        sino
          si W_OPCION = "M"
            ejecutar MODIFICACION_ASIENTO
          fin_si
        fin_si
      fin_si
      ejecutar LEER_NRO_ASIENTO
retorno
PROCESO_FINAL:
  ejecutar CERRAR_ARCHIVOS
  imprimir "** FIN DEL ARCHIVO**"
retorno
ABRIR_ARCHIVOS:
   ejecutar ABRIR_ARCHIVO_ASIENTO
   ejecutar ABRIR_ARCHIVO_CUENTA
retorno

ABRIR_ARCHIVO_ASIENTO
  abrir ASIENTO
retorno
ABRIR_ARCHIVO_CUENTA
  abrir CUETNA
retorno
INGRESAR_NRO_ASIENTO:
  ingresar "Numero de asinto (ENTER p/ fin):", ASI_NRO_ASIENTO
retorno  
INGRESAR_NRO_MOVIM:
  ingresar "NRO DE MOVIMIENTO: ", ASI_NRO_MOVIM
retorno  
INGRESAR_NRO_CUENTA:
  ingresar "Numero de cuenta:", CUE_NRO_CUENTA
ALTA_ASIENTO:
  INGRESAR "Asiento inexistene, desea agregar? (S/N):", W_RESPUESTA
  si W_RESPUESTA = "S"
  ejecutar INGRESAR_DATOS_ASIENTO
  ejecutar INGRESAR_CONFIRMACION
  si W_W_RESPUESTA = "S"
    grabar REG_ASIENTO
  fin_si
retorno

