Objetivo:
Mantenimiento de una empresa de turismo
ENTORNO:
W_NRO_VIAJE     es numérico
W_OPCION        es numérico
W_RESPUESTA     es alfanúmerico

archivo VIAJE
registro REG_VIAJE
  NRO_VIAJE             es numérico
  NRO_CRUCERO           es numérico
  PUERTO_ORIGEN         es alfanumérico
  PUERTO_DESTINO        es alfanumérico
  FEC_HORA_SALIDA       es alfanumérico
  FEC_HORA_LLEGADA      es alfanumérico
  MILLAS_ESTIMADAS      es numérico
  MILLAS_REALES         es numérico
fin_registro
prefijo VIA

archivo CRUCERO
registro REG_CRUCERO
  NRO_CRUCERO             es numérico
  DESCRIPCION             es alfanumérico
  MILLAS_VIAJE            es numérico
  CANT_LUGARES            es numérico
  CAPAC_CARGA_KG          es numérico
  VOLUMEN_CARGA           es numérico
fin_registro
prefijo CRU

archivo BOLETOS
registro REG_BOLETOS
  NRO_VIAJE         es numérico
  NRO_BOLETO        es numérico
  NRO_PASAJERO      es numérico
  FECHA_BOLETO      es alfanumérico
  PRECIO_BOLETO     es numérico
fin_registro
prefijo BOL

archivo PASAJERO
registro REG_PASAJERO
  NRO_PASAJERO         es numérico
  NRO_DOCUMENTO        es numérico
  APELL_Y_NOMBRE       es alfanumérico
  NACIONALIDAD         es alfanumérico
  CANT_VIAJES          es numérico
retorno
prefijo PAS
CUERPO PRINCIPAL:
  inicio
    ejecutar PROCESO_INICIAL
    mientras W_NRO_VIAJE <> 0
        ejecutar PROCESO_PRINCIPAL
    fin_mientras
    ejecutar PROCESO_FINAL
  fin
retorno
RUTINAS:
PROCESO_INICIAL:
  imprimir " MANTENIMIENTOS DE UNA EMPRESA DE TURISMO "
  ejecutar ABRIR_ARCHIVOS
  ejecutar INGRESAR_NRO_VIAJE
retorno
 PROCESO_PRINCIPAL:
 ejecutar LEER_VIAJE
      si existe (VIAJE)
          ejecutar MOSTRAR_DATOS
          ejecutar CONSULTA_VIAJE
          ejecutar INGRESAR_OPCION_MANTENIMIENTO    
      sino
        ejecutar ALTA_VIAJE
        ejecutar ejecutar INGRESAR_NRO_VIAJE  
      fin_si
retorno      
PROCESO_FINAL:
  ejecutar CERRAR_ARCHIVOS
  imprimir "** FIN DEL ARCHIVO**"
retorno
ABRIR_ARCHIVOS:
   ejecutar ABRIR_ARCHIVO_VIAJE
   ejecutar ABRIR_ARCHIVO_CRUCERO
   ejecutar ABRIR_ARCHIVO_BOLETOS
   ejecutar ABRIR_ARCHIVO_PASAJERO
retorno
ABRIR_ARCHIVO_VIAJE
  abrir VIAJE
retorno
ABRIR_ARCHIVO_CRUCERO
  abrir CRUCERO
retorno
ABRIR_ARCHIVO_BOLETOS
  abrir BOLETOS
retorno
ABRIR_ARCHIVO_PASAJERO
  abrir PASAJERO
retorno
INGRESAR_NRO_VIAJE:
  ingresar "Numero de viaje (ENTER p/ fin):", VIA_NRO_VIAJE
retorno  
LEER_VIAJE:
  W_NRO_VIAJE = VIA_NRO_VIAJE
  clave VIA_NRO_VIAJE
  leer REG_VIAJE
retorno
CONSULTA_VIAJE:
    si VIA_FEC_HORA_LLEGADA <> 0 AND  VIA_MILLAS_REALES <>0
        imprimir "El viaje ya fue realizado, solo se permitira consultar"
        ejecutar MOSTRAR_DATOS
    sino
        ingresar OPCION_MANTENIMIENTO
        si W_OPCION = "M"
            ejecutar BAJA_VIAJE
        sino
           si W_OPCION = "M"
              ejecutar MODIFICAR_VIAJE
            fin_si 
         fin_si   
    fin_si
retorno
ALTA_VIAJE:
  ejecutar INGRESAR_NRO_CRUCERO
  si existe (CRUCERO)
    INGRESAR "Viaje inexistene, desea agregar? (S/N):", W_RESPUESTA
    si W_RESPUESTA = "S"
      ejecutar INGRESAR_DATOS_VIAJE
      ejecutar INGRESAR_CONFIRMACION
      si W_RESPUESTA = "S"
          grabar REG_VIAJE
      fin_si
    fin_si
  fin_si  
retorno  
MODIFICAR_VIAJE:
  ejecutar INGRESAR_DATOS_VIAJE_MODI  
  ejecutar INGRESAR_CONFIRMACION
  si W_RESPUESTA = "S"
     ejecutar ACTUALIZAR_CRUERO
     regrabar REG_VIAJE
  fin_si
retorno

  
